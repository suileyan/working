<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>垃圾分类系统 - 管理后台</title>
    <link rel="stylesheet" href="styles/admin.css">
</head>
<body>
    <div class="admin-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>🛠️ 管理后台</h2>
            </div>
            <nav class="sidebar-nav">
                <a href="#analytics" class="nav-item active" onclick="showSection('analytics')">
                    <span class="icon">📊</span>
                    数据分析
                </a>
                <a href="#users" class="nav-item" onclick="showSection('users')">
                    <span class="icon">👥</span>
                    用户管理
                </a>
                <a href="#detection-history" class="nav-item" onclick="showSection('detection-history')">
                    <span class="icon">📋</span>
                    检测历史管理
                </a>
                <a href="#knowledge-mgmt" class="nav-item" onclick="showSection('knowledge-mgmt')">
                    <span class="icon">📚</span>
                    宣传知识管理
                </a>
                <a href="#model-mgmt" class="nav-item" onclick="showSection('model-mgmt')">
                    <span class="icon">🤖</span>
                    模型参数管理
                </a>
                <a href="#dataset" class="nav-item" onclick="showSection('dataset')">
                    <span class="icon">💾</span>
                    数据集展示
                </a>
            </nav>
        </aside>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 顶部导航栏 -->
            <header class="top-header">
                <div class="header-left">
                    <h1 id="pageTitle">数据分析</h1>
                </div>
                <div class="header-right">
                    <span class="admin-info">管理员：张三</span>
                    <button class="logout-btn" onclick="logout()">退出登录</button>
                </div>
            </header>

            <!-- 数据分析页面 -->
            <section id="analytics" class="content-section active">
                <div class="analytics-overview">
                    <div class="stat-card">
                        <div class="stat-icon">👥</div>
                        <div class="stat-info">
                            <h3>1,234</h3>
                            <p>总用户数</p>
                            <span class="stat-change">+5.2%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">📸</div>
                        <div class="stat-info">
                            <h3>15,678</h3>
                            <p>总检测次数</p>
                            <span class="stat-change">+12.8%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🎯</div>
                        <div class="stat-info">
                            <h3>94.5%</h3>
                            <p>平均准确率</p>
                            <span class="stat-change">+0.3%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">⚡</div>
                        <div class="stat-info">
                            <h3>1.2s</h3>
                            <p>平均响应时间</p>
                            <span class="stat-change">-0.1s</span>
                        </div>
                    </div>
                </div>

                <div class="analytics-charts">
                    <div class="chart-card">
                        <h3>用户增长趋势</h3>
                        <canvas id="userGrowthChart" width="600" height="300"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>检测量统计</h3>
                        <canvas id="detectionVolumeChart" width="600" height="300"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>垃圾分类分布</h3>
                        <canvas id="categoryDistributionChart" width="400" height="300"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>模型性能监控</h3>
                        <canvas id="modelPerformanceChart" width="400" height="300"></canvas>
                    </div>
                </div>
            </section>

            <!-- 用户管理页面 -->
            <section id="users" class="content-section">
                <div class="section-header">
                    <h2>用户管理</h2>
                    <div class="header-actions">
                        <input type="text" placeholder="搜索用户..." class="search-input">
                        <button class="btn-primary">导出数据</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>用户ID</th>
                                <th>用户名</th>
                                <th>邮箱</th>
                                <th>注册时间</th>
                                <th>检测次数</th>
                                <th>最后活跃</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- 用户数据将通过JavaScript动态生成 -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button class="page-btn">上一页</button>
                    <span class="page-info">第 1 页，共 10 页</span>
                    <button class="page-btn">下一页</button>
                </div>
            </section>

            <!-- 检测历史管理页面 -->
            <section id="detection-history" class="content-section">
                <div class="section-header">
                    <h2>检测历史管理</h2>
                    <div class="header-actions">
                        <select class="filter-select">
                            <option value="all">全部类型</option>
                            <option value="recyclable">可回收垃圾</option>
                            <option value="kitchen">厨余垃圾</option>
                            <option value="hazardous">有害垃圾</option>
                            <option value="other">其他垃圾</option>
                        </select>
                        <input type="date" class="date-input">
                        <button class="btn-secondary">筛选</button>
                        <button class="btn-primary">导出记录</button>
                    </div>
                </div>
                <div class="detection-stats">
                    <div class="detection-stat">
                        <h4>今日检测</h4>
                        <p class="stat-number">1,234</p>
                    </div>
                    <div class="detection-stat">
                        <h4>本周检测</h4>
                        <p class="stat-number">8,567</p>
                    </div>
                    <div class="detection-stat">
                        <h4>本月检测</h4>
                        <p class="stat-number">34,567</p>
                    </div>
                    <div class="detection-stat">
                        <h4>错误检测</h4>
                        <p class="stat-number">123</p>
                    </div>
                </div>
                <div class="detection-history-list">
                    <!-- 检测历史记录将通过JavaScript动态生成 -->
                </div>
            </section>

            <!-- 宣传知识管理页面 -->
            <section id="knowledge-mgmt" class="content-section">
                <div class="section-header">
                    <h2>宣传知识管理</h2>
                    <button class="btn-primary" onclick="addKnowledgeItem()">添加知识条目</button>
                </div>
                
                <div class="knowledge-categories">
                    <div class="category-tab active" onclick="showKnowledgeCategory('guide')">分类指南</div>
                    <div class="category-tab" onclick="showKnowledgeCategory('tips')">环保贴士</div>
                    <div class="category-tab" onclick="showKnowledgeCategory('policy')">政策法规</div>
                </div>

                <div class="knowledge-list" id="knowledgeList">
                    <!-- 知识条目将通过JavaScript动态生成 -->
                </div>
            </section>

            <!-- 模型参数管理页面 -->
            <section id="model-mgmt" class="content-section">
                <div class="section-header">
                    <h2>AI模型参数管理</h2>
                    <button class="btn-primary" onclick="uploadNewModel()">上传新模型</button>
                </div>
                
                <div class="model-overview">
                    <div class="current-model">
                        <h3>当前运行模型</h3>
                        <div class="model-info">
                            <p><strong>模型名称:</strong> GarbageClassifier_v2.1</p>
                            <p><strong>准确率:</strong> 94.5%</p>
                            <p><strong>模型大小:</strong> 25.6 MB</p>
                            <p><strong>部署时间:</strong> 2024-01-15 10:30</p>
                            <p><strong>状态:</strong> <span class="status active">运行中</span></p>
                        </div>
                    </div>
                </div>

                <div class="model-parameters">
                    <h3>模型参数配置</h3>
                    <div class="param-grid">
                        <div class="param-item">
                            <label>置信度阈值</label>
                            <input type="range" min="0.5" max="1.0" step="0.01" value="0.8" id="confidenceThreshold">
                            <span id="confidenceValue">0.8</span>
                        </div>
                        <div class="param-item">
                            <label>批处理大小</label>
                            <select id="batchSize">
                                <option value="1">1</option>
                                <option value="4" selected>4</option>
                                <option value="8">8</option>
                                <option value="16">16</option>
                            </select>
                        </div>
                        <div class="param-item">
                            <label>最大处理时间(秒)</label>
                            <input type="number" min="1" max="30" value="10" id="maxProcessTime">
                        </div>
                        <div class="param-item">
                            <label>启用GPU加速</label>
                            <input type="checkbox" id="enableGPU" checked>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="saveModelParams()">保存参数</button>
                </div>

                <div class="model-history">
                    <h3>模型版本历史</h3>
                    <div class="model-list">
                        <!-- 模型版本列表将通过JavaScript动态生成 -->
                    </div>
                </div>
            </section>

            <!-- 数据集展示页面 -->
            <section id="dataset" class="content-section">
                <div class="section-header">
                    <h2>训练数据集展示</h2>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="refreshDataset()">刷新数据</button>
                        <button class="btn-primary" onclick="uploadDataset()">上传数据集</button>
                    </div>
                </div>

                <div class="dataset-overview">
                    <div class="dataset-stat">
                        <h4>可回收垃圾</h4>
                        <p class="dataset-count">2,345</p>
                        <p class="dataset-size">1.2 GB</p>
                        <div class="dataset-progress">
                            <div class="progress-bar" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="dataset-stat">
                        <h4>厨余垃圾</h4>
                        <p class="dataset-count">1,876</p>
                        <p class="dataset-size">0.9 GB</p>
                        <div class="dataset-progress">
                            <div class="progress-bar" style="width: 70%"></div>
                        </div>
                    </div>
                    <div class="dataset-stat">
                        <h4>有害垃圾</h4>
                        <p class="dataset-count">987</p>
                        <p class="dataset-size">0.5 GB</p>
                        <div class="dataset-progress">
                            <div class="progress-bar" style="width: 45%"></div>
                        </div>
                    </div>
                    <div class="dataset-stat">
                        <h4>其他垃圾</h4>
                        <p class="dataset-count">1,543</p>
                        <p class="dataset-size">0.8 GB</p>
                        <div class="dataset-progress">
                            <div class="progress-bar" style="width: 60%"></div>
                        </div>
                    </div>
                </div>

                <div class="dataset-gallery">
                    <div class="gallery-controls">
                        <select id="categoryFilter">
                            <option value="all">全部分类</option>
                            <option value="recyclable">可回收垃圾</option>
                            <option value="kitchen">厨余垃圾</option>
                            <option value="hazardous">有害垃圾</option>
                            <option value="other">其他垃圾</option>
                        </select>
                        <input type="text" placeholder="搜索图片..." class="search-input">
                    </div>
                    <div class="image-grid" id="datasetImageGrid">
                        <!-- 数据集图片将通过JavaScript动态生成 -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="scripts/admin.js"></script>
</body>
</html>